<!-- user-choice.component.html -->
<div>
    <button (click)="tableOption = 'users'">Users</button>
    <button (click)="tableOption = 'extracts'">Extracts</button>
</div>

<div class="d-flex flex-column w-25">
    <span>Escolha as colunas</span>
    <button *ngIf="!showChartOptions" (click)="setOption('Documentos')" [ngStyle]="userOptions.includes('doc_type') ? {'background-color': 'lightgray', 'pointer-events': 'none'} : {}">
        Escolher opção Documentos
    </button>
    <button *ngIf="!showChartOptions" (click)="setOption('Documentos processados')" [ngStyle]="userOptions.includes('quant') ? {'background-color': 'lightgray', 'pointer-events': 'none'} : {}">
        Escolher opção Quantidade de Documentos Processados
    </button>
    <button *ngIf="selectedOptions >= 2" (click)="openChart()">
        Proximo
    </button>
</div>

<button *ngIf="(showChartOptions) && (selectedOptions == 2)" (click)="setChart('pie')">
    Escolher opção pieChart
</button>

<button *ngIf="(showChartOptions) && (selectedOptions == 2)" (click)="setChart('bar')">
    Escolher opção barChart
</button>

<div style="border: 1px solid red">
    
    <!-- Legend: 
        cardProp -> (en) Send the chart ID
        userOptions -> (en) Send the options selected by the user
        chartOption -> (en) Send the chart chosen by the user
    -->

    <app-pie-chart 
        *ngIf="chartOption === 'pie'" 
        [cardProp]="cardProp"
        [userOptions]="userOptions"
        [chartOption]="chartOption"
        [tableOption]="tableOption"
        [userOptionsToDB]="userOptionsToDB">
    </app-pie-chart>

    <app-bar-chart 
        *ngIf="chartOption === 'bar'"
        [cardProp]="cardProp"
        [userOptions]="userOptions"
        [chartOption]="chartOption"
        [tableOption]="tableOption"
        [userOptionsToDB]="userOptionsToDB">
    </app-bar-chart>
</div>